package database

import (
	"bytes"
	"database/sql/driver"
	"errors"
)

type TableDataCacheField []byte

func (j TableDataCacheField) Value() (driver.Value, error) {
	if j.IsNull() {
		return nil, nil
	}
	return string(j), nil
}

func (m *TableDataCacheField) UnmarshalJSON(data []byte) error {
	if m == nil {
		return errors.New("null point exception")
	}
	*m = append((*m)[0:0], data...)
	return nil
}

func (j TableDataCacheField) IsNull() bool {
	return len(j) == 0 || string(j) == "null"
}
func (j TableDataCacheField) Equals(j1 TableDataCacheField) bool {
	return bytes.Equal([]byte(j), []byte(j1))
}

// var v map[string]map[string]map[float64]interface{}

// {
//   "mixed": {
//     "2014": {},
//     "2015": {},
//     "2016": {},
//     "2017": {},
//     "2018": {},
//     "2019": {},
//     "2020": {}
//   },
//   "table": {
//     "2014": {
//       "3.01": 137778601,
//       "3.09": 13343496,
//       "3.11": 0,
//       "3.13": 2742817,
//       "6.01": -26775724,
//       "6.02": 1601887,
//       "6.03": 13551411,
//       "6__2": 9.6847376176,
//       "6__4": 1.0439801479,
//       "6__5": 15.6173810601,
//       "8__1": 29.8176619332,
//       "8__3": 4.6567378873
//     },
//     "2015": {
//       "3.01": 182368871,
//       "3.09": 15798039,
//       "3.11": 0,
//       "3.13": 3014754,
//       "6.01": 28068706,
//       "6.02": -1274198,
//       "6.03": 9483264,
//       "6__2": 8.662683995,
//       "6__4": 1.1374787584,
//       "6__5": 18.3208165363,
//       "8__1": 30.0933488557,
//       "8__3": 5.5133472335
//     },
//     "2016": {
//       "3.01": 168039236,
//       "3.09": 8659577,
//       "3.11": 0,
//       "3.13": 2219241,
//       "6.01": 4385042,
//       "6.02": 6578879,
//       "6.03": -1185581,
//       "6__2": 5.1533065766,
//       "6__4": 0.6242415716,
//       "6__5": 9.6135600804,
//       "8__1": 31.4358058081,
//       "8__3": 3.0221000781
//     },
//     "2017": {
//       "3.01": 139763614,
//       "3.09": 12275303,
//       "3.11": 0,
//       "3.13": 2811164,
//       "6.01": -46925241,
//       "6.02": -6381485,
//       "6.03": -2671366,
//       "6__2": 8.7829032526,
//       "6__4": 0.9072152408,
//       "6__5": 12.1251418483,
//       "8__1": 35.3311323599,
//       "8__3": 4.2839499153
//     },
//     "2018": {
//       "3.01": 120250344,
//       "3.09": 15086101,
//       "3.11": 0,
//       "3.13": 3092332,
//       "6.01": 28442399,
//       "6.02": -5255804,
//       "6.03": -12577971,
//       "6__2": 12.545578248,
//       "6__4": 1.0802735596,
//       "6__5": 14.4309404869,
//       "8__1": 36.4833356787,
//       "8__3": 5.2648884594
//     },
//     "2019": {
//       "3.01": 37578893,
//       "3.09": 2084631,
//       "3.11": 0,
//       "3.13": 4161736,
//       "6.01": 57534692,
//       "6.02": -28617177,
//       "6.03": -11408760,
//       "6__2": 16.8576735708,
//       "6__4": 1.2288265275,
//       "8__1": 32.9781715333,
//       "8__3": 6.726623687
//     }
//   },
//   "years": {
//     "2014": true,
//     "2015": true,
//     "2016": true,
//     "2017": true,
//     "2018": true,
//     "2019": "09",
//     "2020": false
//   },
//   "cdceas": {
//     "BVMF:BBAS11": null
//   },
//   "yearly": {
//     "2014": {
//       "3.01": 137778601,
//       "3.09": 13343496,
//       "3.11": 0,
//       "3.13": 2742817,
//       "6.01": -26775724,
//       "6.02": 1601887,
//       "6.03": 13551411,
//       "6__2": 9.6847376176,
//       "6__4": 1.0439801479,
//       "6__5": 15.6173810601,
//       "8__1": 29.8176619332,
//       "8__3": 4.6567378873
//     },
//     "2015": {
//       "3.01": 182368871,
//       "3.09": 15798039,
//       "3.11": 0,
//       "3.13": 3014754,
//       "6.01": 28068706,
//       "6.02": -1274198,
//       "6.03": 9483264,
//       "6__2": 8.662683995,
//       "6__4": 1.1374787584,
//       "6__5": 18.3208165363,
//       "8__1": 30.0933488557,
//       "8__3": 5.5133472335
//     },
//     "2016": {
//       "3.01": 168039236,
//       "3.09": 8659577,
//       "3.11": 0,
//       "3.13": 2219241,
//       "6.01": 4385042,
//       "6.02": 6578879,
//       "6.03": -1185581,
//       "6__2": 5.1533065766,
//       "6__4": 0.6242415716,
//       "6__5": 9.6135600804,
//       "8__1": 31.4358058081,
//       "8__3": 3.0221000781
//     },
//     "2017": {
//       "3.01": 139763614,
//       "3.09": 12275303,
//       "3.11": 0,
//       "3.13": 2811164,
//       "6.01": -46925241,
//       "6.02": -6381485,
//       "6.03": -2671366,
//       "6__2": 8.7829032526,
//       "6__4": 0.9072152408,
//       "6__5": 12.1251418483,
//       "8__1": 35.3311323599,
//       "8__3": 4.2839499153
//     },
//     "2018": {
//       "3.01": 120250344,
//       "3.09": 15086101,
//       "3.11": 0,
//       "3.13": 3092332,
//       "6.01": 28442399,
//       "6.02": -5255804,
//       "6.03": -12577971,
//       "6__2": 12.545578248,
//       "6__4": 1.0802735596,
//       "6__5": 14.4309404869,
//       "8__1": 36.4833356787,
//       "8__3": 5.2648884594
//     }
//   },
//   "quarterly": {
//     "2014_03": {
//       "3.01": 28664624,
//       "3.09": 145490,
//       "3.11": 0,
//       "3.13": 2774858,
//       "6.01": -1854565,
//       "6.02": 1899507,
//       "6.03": 115624,
//       "6__2": 8.5813100176,
//       "6__4": 0.8835136919,
//       "8__1": 24.9403680167,
//       "8__3": 3.9904572075
//     },
//     "2014_06": {
//       "3.01": 30050888,
//       "3.09": 1121422,
//       "3.11": 0,
//       "3.13": 2790332,
//       "6.01": 30354855,
//       "6.02": -24365186,
//       "6.03": 6066223,
//       "6__2": 7.6888677744,
//       "6__4": 0.9337710906,
//       "8__1": 24.2346644538,
//       "8__3": 4.3818215333
//     },
//     "2014_09": {
//       "3.01": 37236325,
//       "3.09": 1237534,
//       "3.11": 0,
//       "3.13": 2742817,
//       "6.01": -952448,
//       "6.02": -23255111,
//       "6.03": 8346198,
//       "6__2": 6.8782733593,
//       "6__4": 1.0070001024,
//       "8__1": 27.5163790993,
//       "8__3": 4.8137077095
//     },
//     "2014_12": {
//       "3.01": 41826764,
//       "3.09": 10839050,
//       "6.01": -26775724,
//       "6.02": 1601887,
//       "6.03": 13551411,
//       "6__2": 9.6847376176,
//       "6__4": 1.0439801479,
//       "6__5": 15.6173810601,
//       "8__1": 29.8176619332,
//       "8__3": 4.6567378873
//     },
//     "2015_03": {
//       "3.01": 46360828,
//       "3.09": 2423798,
//       "3.11": 0,
//       "3.13": 5675916,
//       "6.01": 2571396,
//       "6.02": -5941678,
//       "6.03": 3667407,
//       "6__2": 10.0478042085,
//       "6__4": 1.065934966,
//       "8__1": 25.3368073454,
//       "8__3": 5.4518430968
//     },
//     "2015_06": {
//       "3.01": 35775809,
//       "3.09": 651277,
//       "3.11": 0,
//       "3.13": 2930545,
//       "6.01": 867628,
//       "6.02": -5509954,
//       "6.03": 1837734,
//       "6__2": 9.3993081601,
//       "6__4": 1.0371043045,
//       "8__1": 25.1077394661,
//       "8__3": 5.2877675027
//     },
//     "2015_09": {
//       "3.01": 58727589,
//       "3.09": 7812074,
//       "3.11": 0,
//       "3.13": 3014754,
//       "6.01": 9994088,
//       "6.02": -6458222,
//       "6.03": 11822693,
//       "6__2": 11.892321017,
//       "6__4": 1.4383357942,
//       "8__1": 25.27081032,
//       "8__3": 7.5822118904
//     },
//     "2015_12": {
//       "3.01": 41504645,
//       "3.09": 4910890,
//       "6.01": 28068706,
//       "6.02": -1274198,
//       "6.03": 9483264,
//       "6__2": 8.662683995,
//       "6__4": 1.1374787584,
//       "6__5": 18.3208165363,
//       "8__1": 30.0933488557,
//       "8__3": 5.5133472335
//     },
//     "2016_03": {
//       "3.01": 36309513,
//       "3.09": 1288635,
//       "3.11": 0,
//       "3.13": 2310401,
//       "6.01": -7091562,
//       "6.02": -2638088,
//       "6.03": -4696999,
//       "6__2": 8.5092177143,
//       "6__4": 0.9674684246,
//       "8__1": 25.5036113382,
//       "8__3": 5.1171874452
//     },
//     "2016_06": {
//       "3.01": 37088854,
//       "3.09": 1594979,
//       "3.11": 0,
//       "3.13": 2441514,
//       "6.01": -12368725,
//       "6.02": -7215213,
//       "6.03": -8996322,
//       "6__2": 8.9883798767,
//       "6__4": 1.0058774836,
//       "8__1": 25.3318872937,
//       "8__3": 5.4465293851
//     },
//     "2016_09": {
//       "3.01": 47073757,
//       "3.09": 1213013,
//       "3.11": 0,
//       "3.13": 2219241,
//       "6.01": 915091,
//       "6.02": -11775633,
//       "6.03": -7590449,
//       "6__2": 5.5609931323,
//       "6__4": 0.5807893964,
//       "8__1": 26.0336741491,
//       "8__3": 3.1435274297
//     },
//     "2016_12": {
//       "3.01": 47567112,
//       "3.09": 4562950,
//       "6.01": 4385042,
//       "6.02": 6578879,
//       "6.03": -1185581,
//       "6__2": 5.1533065766,
//       "6__4": 0.6242415716,
//       "6__5": 9.6135600804,
//       "8__1": 31.4358058081,
//       "8__3": 3.0221000781
//     },
//     "2017_03": {
//       "3.01": 39462392,
//       "3.09": 36135,
//       "3.11": 0,
//       "3.13": 2393193,
//       "6.01": -71178626,
//       "6.02": 40605947,
//       "6.03": -1292305,
//       "6__2": 4.326762947,
//       "6__4": 0.5054142321,
//       "8__1": 27.3791348528,
//       "8__3": 2.5849909274
//     },
//     "2017_06": {
//       "3.01": 40953222,
//       "3.09": 55641,
//       "3.11": 0,
//       "3.13": 2624516,
//       "6.01": -86238282,
//       "6.02": 35747225,
//       "6.03": -265518,
//       "6__2": 3.3519118512,
//       "6__4": 0.390371657,
//       "8__1": 27.8290348118,
//       "8__3": 2.0477783719
//     },
//     "2017_09": {
//       "3.01": 34120135,
//       "3.09": -227204,
//       "3.11": 0,int
//       "3.13": 2811164,
//       "6.01": -89758215,
//       "6.02": 33282689,
//       "6.03": -990077,
//       "6__2": 2.7313040453,
//       "6__4": 0.3036175777,
//       "8__1": 28.6585925982,
//       "8__3": 1.5451579889
//     },
//     "2017_12": {
//       "3.01": 25227865,
//       "3.09": 12410731,
//       "6.01": -46925241,
//       "6.02": -6381485,
//       "6.03": -2671366,
//       "6__2": 8.7829032526,
//       "6__4": 0.9072152408,
//       "6__5": 12.1251418483,
//       "8__1": 35.3311323599,
//       "8__3": 4.2839499153
//     },
//     "2018_03": {
//       "3.01": 30177213,
//       "3.09": 66066,
//       "3.11": 0,
//       "3.13": 2726885,
//       "6.01": 18136146,
//       "6.02": -4512345,
//       "6.03": -2509235,
//       "6__2": 9.4308565243,
//       "6__4": 0.8320855089,
//       "8__1": 31.3296903639,
//       "8__3": 4.2943955152
//     },
//     "2018_06": {
//       "3.01": 41983255,
//       "3.09": 471185,
//       "3.11": 0,
//       "3.13": 3108230,
//       "6.01": 21750206,
//       "6.02": -10277473,
//       "6.03": -3971444,
//       "6__2": 9.672972542,
//       "6__4": 0.8403888704,
//       "8__1": 31.9561321654,
//       "8__3": 4.4394159423
//     },
//     "2018_09": {
//       "3.01": 34320537,
//       "3.09": 26464,
//       "3.11": 0,
//       "3.13": 3092332,
//       "6.01": 29274556,
//       "6.02": -24795655,
//       "6.03": -4626731,
//       "6__2": 9.8508521104,
//       "6__4": 0.8429010581,
//       "8__1": 32.3719801874,
//       "8__3": 4.5279433707
//     },
//     "2018_12": {
//       "3.01": 13769339,
//       "3.09": 14522386,
//       "6.01": 28442399,
//       "6.02": -5255804,
//       "6.03": -12577971,
//       "6__2": 12.545578248,
//       "6__4": 1.0802735596,
//       "6__5": 14.4309404869,
//       "8__1": 36.4833356787,
//       "8__3": 5.2648884594
//     },
//     "2019_03": {
//       "3.01": 31678066,
//       "3.09": 466798,
//       "3.11": 0,
//       "3.13": 3917522,
//       "6.01": 33546468,
//       "6.02": 7271291,
//       "6.03": -10453619,
//       "6__2": 12.7200663169,
//       "6__4": 0.98060973,
//       "8__1": 32.9871597538,
//       "8__3": 5.4047396564
//     },
//     "2019_06": {
//       "3.01": 31310843,
//       "3.09": 2200767,
//       "3.11": 0,
//       "3.13": 4202350,
//       "6.01": 46151816,
//       "6.02": -16282488,
//       "6.03": -13240975,
//       "6__2": 15.4992827838,
//       "6__4": 1.0748178879,
//       "8__1": 31.9974196984,
//       "8__3": 6.0083453403
//     },
//     "2019_09": {
//       "3.01": 37578893,
//       "3.09": 2084631,
//       "3.11": 0,
//       "3.13": 4161736,
//       "6.01": 57534692,
//       "6.02": -28617177,
//       "6.03": -11408760,
//       "6__2": 16.8576735708,
//       "6__4": 1.2288265275,
//       "8__1": 32.9781715333,
//       "8__3": 6.726623687
//     }
//   },
//   "latestData": {
//     "3.01": 37578893,
//     "3.09": 2084631,
//     "3.11": 0,
//     "3.13": 4161736,
//     "6.01": 57534692,
//     "6.02": -28617177,
//     "6.03": -11408760,
//     "6__2": 16.8576735708,
//     "6__4": 1.2288265275,
//     "8__1": 32.9781715333,
//     "8__3": 6.726623687
//   }
// }
